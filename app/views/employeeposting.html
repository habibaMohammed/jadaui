
<h3>Employee Posting
  
</h3>


<div class="container-fluid"  ng-controller="EmployeePostingController" >


<div class="row">
   
   <div class="col-lg-8">
      <form class="form-inline">
  <div class="input-group mb-2 mr-sm-2 mb-sm-0">
    <div class="input-group-addon">Period</div>
  
         <select name="period" class="slider slider-lg form-control" ng-model="postingtrans.periodId" ng-options="period.id as period.period for period in periods" disabled="">
        <option value="" disabled selected>Periods</option>
  </select>
  </div>
  <div class="input-group mb-2 mr-sm-2 mb-sm-0">
    <div class="input-group-addon">Employee Number</div>
    <select name="employeeNumber" class="slider slider-lg form-control" ng-model="postingtrans.employeeId" ng-options="employee.id as employee.employeeNumber for employee in employees" >
        <option value="" disabled selected>Employees</option>
  </select>
  </div>
  <button  ng-click="searchEmployee(postingtrans)"   class="btn btn-primary"><i class="fa fa-search" aria-hidden="true"></i></button>
</form>
  


   </div>


</div>

<br/>
          <!-- START panel-->

      <div class="panel panel-default">
         
            <div class="panel-body">
      <!--       <h3>Search
   <small>Search and filter results</small>
</h3> -->
      
    
             <div class="table-responsive">
                    <div class="col-lg-4 col-xs-12 pv">
            <div class="clearfix">
               <p class="pull-left">Employee NO.</p>
               <p class="pull-right mr">{{oneUser.employeeInfo.employeeNumber}}</p>
            </div>
            <div class="clearfix">
               <p class="pull-left">Employee Name</p>
               <p  class="pull-right mr">{{oneUser.employeeInfo.employeeName}}</p>
            </div>
          <!--   <div class="clearfix">
               <p class="pull-left">Pay Period</p>
               <p class="pull-right mr">{{oneUser.employeeInfo.period}}</p>
            </div> -->
         </div>
         <br/>
<!--  <h4 class="page-header">Current details</h4> -->
   <table class="table table-bordered table-hover bg-white">
      <tr style="font-weight: bold">
         <td style="width:20%">Code</td>
         <td style="width:35%">Description </td>
         <td style="width:20%">Amount</td>
         <td style="width:20%">Action</td>

      </tr>
      <div>
      <tr  ng-repeat="transaction in transactions">
         <td>
                {{transaction.code}}    </td> 
             <td> {{transaction.description}}    </td> 
             <td>    {{transaction.amount}}
            
         </td>                           
       
         <td style="white-space: nowrap">
            <!-- form-->
           
         <div class="buttons" >
                <button class="btn btn-sm btn-info" ng-click="show(transaction)"  title="Edit">
                  <em class="fa fa-pencil"></em>
               </button>
               <button class="btn btn-sm btn-danger" ng-click="delete(transaction)" title="Delete">
                  <em class="fa fa-trash"></em>
               </button>
            </div>
         </td>
      </tr>
   </div>
   </table>
   <br/>
   <button class="btn btn-primary" ng-click="open(postingtrans)" >Add New </button>

<script type="text/ng-template" id="addTransactions.html">
            <div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true" ng-click="cancel()">×</button><h4 class="modal-title" id="myMapModalLabel">Transaction posting</h4></div>
            <div class="modal-body" ng-controller="EmployeePostingController">

  <form class="form-horizontal"  name="employeepostingform" novalidate>

      <div class="form-group">
                  <label class="col-lg-3 control-label"> Period

                 </label>
                  <div class="col-lg-9">

                      <select name="period" class="slider slider-lg form-control" ng-model="transactionposting.periodId" ng-options="period.id as period.period for period in periods" disabled="">
        <option value="" disabled selected>Periods</option>
    }
  </select>
          
                  </div>
               </div>

      <div class="form-group">
                  <label class="col-lg-3 control-label"> Employee

                 </label>
                  <div class="col-lg-9">
 <!--                     <input class="form-control" type="text" ng-model="transaction.employeeId" name="element_code
" placeholder="Element code


" /> -->

  <select name="employee" class="slider slider-lg form-control" ng-model="transactionposting.employeeId" ng-options="employee.id as employee.employeeNumber for employee in employees" disabled="" >
        <option value="" disabled selected>Employees</option>
  </select>
                  </div>
               </div>
           <div class="form-group">
                  <label class="col-lg-3 control-label">Payroll Code

                 </label>
                  <div class="col-lg-9">
                    <select class="form-control" name="payrollcode" ng-model="transactionposting.payrollCodeId"  ng-options="code.id as code.code+'-'+code.description  for code in pcodes" ng-required="true">
    <option value="" disabled selected>All Codes</option>
  </select>
   <span class="text-danger" ng-show="employeepostingform.$submitted &amp;&amp; employeepostingform.payrollcode.$error.required">This field is required</span>
                  </div>
               </div>
            
               <div class="form-group">
                  <label class="col-lg-3 control-label">Amount
                   </label>
                  <div class="col-lg-9">
                     <input class="form-control" type="text"  name="amount" ng-model="transactionposting.amount"  ng-required="true" placeholder="Group code
                   " />
                    <span class="text-danger" ng-show="employeepostingform.$submitted &amp;&amp; employeepostingform.amount.$error.required">This field is required</span>
                  </div>
               </div>
     
              <div class="form-group">
                  <div class="col-lg-offset-3 col-lg-9">
                  <button class="btn btn-sm btn-info" ng-click="employeepostingform.$valid && submitTransaction(transactionposting)" >Save and New</button>
                   <button class="btn btn-sm btn-info" ng-click="saveCloseTransaction(transactionposting)" >Save and close</button>
                    <button class="btn btn-sm btn-warning"  type="reset" >Reset</button>
                   </div>
               </div>
                <div class="text-center text-success" margin-top="md" ng-show="SuccessMsg">{{SuccessMsg}}</div>
             <div class="text-center text-danger"  margin-top="md" ng-show="errorMsg">{{errorMsg}}</div>
               
            </form>

</div>
<div class="modal-footer"><button class="btn btn-primary" type="button"  ng-click="ok()">Close</button></div>
         </script>



         <script type="text/ng-template" id="editTransaction.html">
            <div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true" ng-click="cancel()">×</button><h4 class="modal-title" id="myMapModalLabel">Edit</h4></div>
            <div class="modal-body" ng-controller="EmployeePostingController">
  <form class="form-horizontal" name="employeepostingform" novalidate >


    <div class="form-group">
                
                  <div class="col-lg-9">
                     <input class="form-control" type="hidden" ng-model="transaction.id" name="element_code
" placeholder="Element code
" />
                  </div>
               </div>
            <div class="form-group">
                  <label class="col-lg-3 control-label"> Period

                 </label>
                  <div class="col-lg-9">
         <select name="period" class="slider slider-lg form-control" ng-model="transaction.periodId" ng-options="period.id as period.period for period in periods" disabled="" >
        <option value="" disabled selected>Periods</option>
  </select>
          
                  </div>
               </div>

      <div class="form-group">
                  <label class="col-lg-3 control-label"> Employee

                 </label>
                  <div class="col-lg-9">
         <select name="employee" class="slider slider-lg form-control" ng-model="transaction.employeeId" ng-options="employee.id as employee.employeeNumber for employee in employees" disabled="">
        <option value="" disabled selected>Employees</option>
  </select>         </div>
               </div>
           <div class="form-group">
                  <label class="col-lg-3 control-label"> code

                 </label>
                  <div class="col-lg-9">
              <select class="form-control" name="payrollcode" ng-model="transaction.payrollCodeId"  ng-options="code.id as code.code+'-'+code.description  for code in pcodes" ng-required="true">
    <option value="" disabled selected>Payroll  Codes</option>
  </select>  
   <span class="text-danger" ng-show="employeepostingform.$submitted &amp;&amp; employeepostingform.payrollcode.$error.required">This field is required</span>    </div>
               </div>
       

               <div class="form-group">
                  <label class="col-lg-3 control-label">Amount
                   </label>
                  <div class="col-lg-9">
                     <input class="form-control" type="text" name="amount"  ng-model="transaction.amount" placeholder="Group code" ng-required="true"/>
                      <span class="text-danger" ng-show="employeepostingform.$submitted &amp;&amp; employeepostingform.amount.$error.required">This field is required</span>
                  </div>
               </div>
      
              <div class="form-group">
                  <div class="col-lg-offset-3 col-lg-9">
                  <button class="btn btn-sm btn-primary mr" ng-click="updateTransaction(transaction)">Update</button>
                    <button class="btn btn-sm btn-warning mr" type="reset" >Cancel</button>
                   </div>
               </div>
               
            </form>

</div>
<div class="modal-footer"><button class="btn btn-primary" type="button"  ng-click="ok()">Close</button></div>
         </script>
                </div>



            </div>
         
         
       
      </div>
      <!-- END panel-->

</div>
       