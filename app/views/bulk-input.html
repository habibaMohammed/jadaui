<h3>Batch inputs 
</h3>
<!-- <script type="text/javascript">
   var jsonData=[]; 
    $(function() {
        $('textarea[name=excel_data]').keyup(function() {
            var data = $(this).val();
            var rows = data.split("\n");
            var table = $('<table />'); 
             
            for(var y in rows) {
                var cells = rows[y].split("\t");
                var row = $('<tr />');
                for(var x in cells) {
                  jsonData[y]=cells;
                    row.append('<td>'+cells[x]+'</td>');
                }
                table.append(row);

            }
            console.log(jsonData);
            $('#excel_table').html(table);
             // $('#excel_json').ExcelToJSON(table);
        });
    });
    </script> -->
<!-- 
        <textarea  class="form-control"   name="excel_data" /></textarea> -->

  

<!-- <div class="panel">
   <div class="panel-body" ng-controller="BulkImportController">
     <form><input type="file" class="file-chooser" id="files" name="files[]" /></form>
  <div ui-grid="gridOptions" ui-grid-importer class="grid" ui-grid-edit ui-grid-row-edit></div>

   </div>
 </div> -->


<!-- 
 <script>
  console.log("file upload function");
var ExcelToJSON = function() {

  this.parseExcel = function(file) {
    var reader = new FileReader();

    reader.onload = function(e) {
      var data = e.target.result();
      var workbook = XLSX.read(data, {
        type: 'binary'
      });

      workbook.SheetNames.forEach(function(sheetName) {
        // Here is your object
        var XL_row_object = XLSX.utils.sheet_to_row_object_array(workbook.Sheets[sheetName]);
        var json_object = JSON.stringify(XL_row_object);
        console.log(json_object);

      })

    };

    reader.onerror = function(ex) {
      console.log(ex);
    };

    reader.readAsBinaryString(file);
  };
};
</script> -->

<div class="panel">
   <div class="panel-body" ng-controller="EmpBulkTransController">
      <div class="clearfix">
<!-- 
 <button class="btn btn-primary pull-left mr" type="button" ng-click="open()">
      <em class="fa fa-plus-circle fa-fw "></em>Import Employees Transaction</button> &nbsp; &nbsp;  -->
<a href="server/transactionPosting.csv" class="btn btn-primary pull-left mr" type="button"> 

      <em class="fa fa-download fa-fw "></em>Download the csv format</a>
      </div>

<!-- 
    <div id="excel_table"> table here</div> -->

 <!--  <div >
      <form><input type="file" class="file-chooser" id="files" name="files[]" /></form>
      <div ui-grid="gridOptions" ui-grid-importer class="grid" ui-grid-edit ui-grid-row-edit></div>
    </div> -->
 
<!--  <script type="text/ng-template" id="EmpBulkTransaction.html">
              <div class="modal-header"><button class="close" type="button" data-dismiss="modal" aria-hidden="true" ng-click="cancel()">Ã—</button><h4 class="modal-title" id="myMapModalLabel">Upload</h4></div>
 <div class="modal-body">

    <form class="form-horizontal" ng-controller="EmpBulkTransController">

   <div class="col-lg-9">
      
    <input class="form-control" filestyle="" type="file" data-file-reader-directive="fileContent" accept=".csv" data-button-text="Browse" data-class-button="btn btn-default" data-classinput="form-control inline" nv-file-select="" uploader="form.uploader" />
  
                </div> 
<br/>
<br/>
<br/>
     <div class="clearfix">
       
     <button class="btn btn-info btn-s" type="button" ng-click="uploadFile()" >
                     <span class="icon-cloud-upload mr"></span>Upload</button>
                  <button class="btn btn-warning btn-s" type="button">
                     <span class="icon-close mr"></span>Cancel</button>

      </div>

     
       
                 
              </form>
 </div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button></div>

           </script> -->
<br/>
<br/>

<form class="form-horizontal">
<div class="form-group">
   <div class="col-lg-6">
 <input type="file" class="form-control" data-file-reader-directive="fileContent" accept=".csv" data-button-text="Browse" data-class-button="btn btn-default" data-classinput="form-control inline" nv-file-select="" uploader="form.uploader"/>
</div>
</div>
  <div class="clearfix">
       
     <button class="btn btn-info btn-s" type="button" ng-click="uploadFile()" >
                     <span class="icon-cloud-upload mr"></span>Upload</button>
                  <button class="btn btn-warning btn-s" type="reset" ng-click="cancel()">
                     <span class="icon-close mr"></span>Cancel</button>


                         <button class="btn btn-info btn-s"  ng-click="save()">
                     <span class="icon-save mr"></span>Save</button>

      </div>
<div class="row">
               <div class="text-center text-success" margin-top="md" ng-show="SuccessMsg">{{SuccessMsg}}</div>
             <div class="text-center text-danger"  margin-top="md" ng-show="errorMsg">{{errorMsg}}</div>
            <!--  {{fileData}} -->
          </div>
</form>
     



    <!-- <div>{{ fileData}}</div> -->
     
      <div class="table-responsive table-bordered mb-lg">
         <table class="table">
            <thead>
               <tr>
                   <th>Period</th>
                  <th>Employee Number</th>
                  <th>Payroll Code</th>
                  <th>Amount</th>
                  <th></th>
                 
                 
               </tr>
            </thead>
                  
                 
            <tbody>
              
               <tr  ng-repeat="data in fileData">
                  <td>{{data.period}}</td>
                  <td>{{data.employee_number}}</td>
                  <td>{{data.payroll_code}}</td>
                  <td>{{data.amount}}</td>
                  <td>{{data.success}}</td>
                 
               </tr>
         
               
            </tbody>
         </table>
      </div>
     
               
               <div class="text-center text-success" margin-top="md" ng-show="SuccessMsg">{{SuccessMsg}}</div>
             <div class="text-center text-danger"  margin-top="md" ng-show="errorMsg">{{errorMsg}}</div>



            </div>



            <div class="container-fluid" ng-controller="TablexEditableController as table">
   <!-- Editable row-->
   <h4 class="page-header">Editable row</h4>
   <table class="table table-bordered table-hover bg-white">
      <tr style="font-weight: bold">
         <td style="width:35%">Name</td>
         <td style="width:20%">Status</td>
         <td style="width:20%">Group</td>
         <td style="width:25%">Edit</td>
      </tr>
      <tr ng-repeat="user in table.users">
         <td>
            <!-- editable username (text with validation)-->
            <span editable-text="user.name" e-name="name" e-form="rowform" onbeforesave="table.checkName($data, user.id)" e-required="">{{ user.name || &apos;empty&apos; }}</span>
         </td>
         <td>
            <!-- editable status (select-local)-->
            <span editable-select="user.status" e-name="status" e-form="rowform" e-ng-options="s.value as s.text for s in table.statuses">{{ table.showStatus(user) }}</span>
         </td>
         <td>
            <!-- editable group (select-remote)-->
            <span editable-select="user.group" e-name="group" onshow="table.loadGroups()" e-form="rowform" e-ng-options="g.id as g.text for g in table.groups">{{ table.showGroup(user) }}</span>
         </td>
         <td style="white-space: nowrap">
            <!-- form-->
            <form class="form-buttons form-inline" editable-form="" name="rowform" onbeforesave="table.saveUser($data, user.id)" ng-show="rowform.$visible" shown="table.inserted == user">
               <button class="btn btn-sm btn-info" type="submit" ng-disabled="rowform.$waiting" title="Save">
                  <em class="fa fa-save"></em>
               </button>
               <button class="btn btn-sm btn-default" type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" title="Cancel">
                  <em class="fa fa-times"></em>
               </button>
            </form>
            <div class="buttons" ng-show="!rowform.$visible">
               <button class="btn btn-sm btn-info" ng-click="rowform.$show()" title="Edit">
                  <em class="fa fa-pencil"></em>
               </button>
               <button class="btn btn-sm btn-danger" ng-click="table.removeUser($index)" title="Delete">
                  <em class="fa fa-trash"></em>
               </button>
            </div>
         </td>
      </tr>
   </table>
  <button class="btn btn-default" ng-click="table.addUser()">Add row</button>
         </div>

  <!-- 
      <div class="clearfix">
         <button class="btn btn-info pull-left mr" type="button">Edit</button>
         <button class="btn btn-danger pull-left mr" type="button">Delete</button>
      
         <button class="btn btn-success pull-left" type="button">Save</button>


      </div>
 -->








